# Собеседование

## PHP

### Генераторы

Зачем генераторы?
  Экономить память

Можно перемотать гененратор назад?
  Нельзя

Есть преимущество у генератора перед итераторами?
  Да, простота. Не нужно реализовывать интерфейс итератора

В чем отличие:
 - yield [] - вернет пустой массив
 - yield from [] - завершит работу генератора

### Стрелочные функции

Разница между стрелочной и анонимной функции?
  В стрелочных функциях переменные из родительской области доступны автоматически. В анонимных нужно использовать use.
  В стрелочных можно использовать только один оператор
  Стрелочные функции используют привязку переменных по значению

### Namespaces

Для чего используются пространства имен?
1. Устранить конфликт имен между нашим и сторонним кодом
2. Улучшить читаемость кода за счет сокращения названия

  autoload": {
    "psr-4": {
    "App\\": "app/",
    },
  },

## ООП

Можно в интерфейсе объявлять константы, конструктор?
  Да

Можно в абстрактном классе объявить абстрактный private-метод?
  Нет, только protected и public

Может наследование нарушать инкапсуляцию суперкласса?
  Да, подклассам доступны детали родителя (protected?)

Какие альтернативы есть наследованию?
  Композиция, агрегация

Трейты
Разница между абстрактным классом и интерфейсом

## БД

В чем отличие Postgres и MySQL?

Как включить журналирование медленных запросов
  SET GLOBAL slow_query_log = 'OFF';

Как сохранить JSON в MySQL
  Создать столбец с типом JSON (с версии MySQL 5.7.8 2015-08-03)

DEADLOCK в БД

MySQL как посмотреть список таблиц в консоли?
SHOW DATABASES;
USE ...;
SHOW TABLES;

### Агрегирующие функции

Чем HAVING отличается от WHERE?
  Условия наклдываются на агрегатные функции, уже после того как отработают условия в WHERE.
  Сначала WHERE, потом GROUP BY, потом HAVING

Когда индексы могут мешать?
  Замедляют процесс обновления данных

Транзакции
Уровни изоляции

Как обновить значение поля в большом количестве строк?
  Использовать LIMIT в UPDATE, DELETE, чтобы не блокировать всю огромную таблицу

## NoSQL

### Redis

Варианты использования:
  - Кэш
  - Очереди
  - Хранилище
Какие типы данных?
Где хранить можно данные?

ES?
Разница между PHP 8.2 и 7.4

##
Ревью
Как привести к одному стилю код всех разработчиков?

## Авторизация

JWT-токен. Зачем, из чего состоит?
OAuth 2, какой флоу?

## Тесты

Использовали тесты? Почему?
Как тестировать закрытый метод? - Рефлексия
Как перехватывать все исключения?

Фреймворки для тестирования
* Codeception
* PHPUnit

В чем отличие? Codeception использует PHPUnit. Codeception добавляет некоторые функции или помощники (helpers), которые позволяют упростить часть задач.

php artisan test

## Highload

Как отправить во внутренние системы много запросов? - Асинхронные запросы

## Laravel

Жизненный цикл запроса
Что такое сервис-контейнер
Работал с гейтами
Моки, стабы
Eloquent with - зачем? n+1
Паттерны в Laravel
Как запустить тесты в Laravel? В докере? Конкретный тест
Как отложить время выполнения джобы? dispatch()->delay()

В Laravel можно использовать несколько подключений к БД?
  Да

Как в одном построителе указать, чтобы выбрались отношения?
  $posts = Post::with(['author.team'])->get();
    select * from posts // предположим, что запрос вернул 5 сообщений
    select * from authors where id in( { post1.author_id }, { post2.author_id }, { post3.author_id }, { post4.author_id }, { post5.author_id } )
    select * from teams where id in( { author1.team_id }, { author2.team_id }, { author3.team_id }, { author4.team_id }, { author5.team_id } )

### Octane

Зачем?
Особенности?
 - Постоянно находится в памяти
 - Может течь память, если не контролировать статические объекты


## Git

Как перекинуть коммит
git cherry-pick
git rebase vs merge

git remote -v
git remote set-url

Как посмотреть список веток удаленного репозитория?
git --no-pager branch -r


## Инфраструктура

Работаете в консоли Linux?
Как запустить nginx на локальном хосте?
Как организован CI/CD?
Pipeline?
Docker?

## Стандарты

Слышали про набор рекомендаций для PHP (PSR)?
 - Автозагрузка классов
   0
   4
 - Стили кодирования
   1, 2, 12
 - Интерфейсы
   3, 16 - логи
   6/16 - кэш
   11, 13, 14

## Паттерны

Singleton - почему антипаттерн?



Нужно сделать печатную форму заказа.


## Ресурсы

* [Тестирование в Тинькофф](https://www.tinkoff.ru/career/it/interview/backend/)
